인덱스(Index)
---------------------------------------
- 인덱스란 데이터베이스 테이블에서 원하는 데이터를 빠르게 찾기 위해 사용하는 "검색 도우미" 구조입니다.
- 마치 책의 목차처럼 데이터를 전부 훑는 것이 아닌 찾고자 하는 위치를 빠르게 알려주는 도구가 바로 인덱스입니다.

예시로 보는 인덱스
-----------------------------
```
책 1000 페이지에서 "네트워크"라는 단어를 찾고 싶을 때,
"인덱스가 없으면" -> 처음부터 끝까지 다 읽어야 합니다.
"인덱스가 있으면" -> 목차나 색인을 보고 바로 해당 위치로 점프합니다.
```
- DB에서 인덱스가 있다면 전체 테이블을 다 읽는 것이 아닌, 인덱스를 통해 빠르게 접근할 수 있게 됩니다.

인덱스를 사용하는 이유
------------------------------
- 검색 속도 향상 : 원하는 행(Row)를 빠르게 찾을 수 있습니다.
- 쿼리 성능 최적화 : WHERE, JOIN, ORDER BY, GROUP BY 등에서 활용됩니다.
- 대용량 데이터에서 필수 : 수십만 ~ 수천만 건 이상이면 필수적 성능 요소가 됩니다.


B-Tree
-----------------------------------
- 인덱스의 구조 중 B-Tree 인덱스는 정렬된 자료구조를 기반으로 하며, 범위 검색이 가능하고 대부분의 RDBMS에서 기본 인덱스가 됩니다.
- 특징으로는 데이터가 정렬된 트리 구조에 저장되며 O(log n)의 탐색 성능을 가집니다.
- 범위 검색이 가능합니다. ( 예: WHERE age BETWEEN 20 AND 30 )
- 인덱스는 자동으로 정렬 상태를 유지하게 됩니다.

```sql
SELECT * FROM users WHERE age BETWEEN 20 AND 30;
```

- 범위 조건을 자주 사용하는 컬럼, 정렬 기준이 되는 컬럼에 사용하게 됩니다.

Hash 인덱스
------------------------------------
- 인덱스의 구조 중 Hash 인덱스는 값 자체를 해시(Hash)로 바꿔서 저장하는 것을 말합니다.
- 그에 따라 정확히 일치하는 검색에 특화되어 있습니다.
- 특징으로는 = 조건에서 O(1)에 가까운 탐색 성능을 가지지만 범위 검색은 불가능합니다.
- 해시 충돌(같은 값이 겹치는 문제)를 내부적으로 처리할 수 있습니다.

```
SELECT * FROM users WHERE user_id = 'abc123';
```

- WHERE id = ? 같이 정확한 값을 조회할 때 사용합니다.
- 읽기 속도가 매우 중요한 경우에 사용합니다.

인덱스 사용 시 주의사항
-------------------------------------
<table border="1">
  <thead>
    <tr>
      <th>주의할 점</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>인덱스가 많다고 무조건 좋은 것은 아님</td>
      <td>INSERT, UPDATE, DELETE 시 인덱스를 같이 갱신해야 하므로 성능 저하 가능</td>
    </tr>
    <tr>
      <td>자주 바뀌는 컬럼에는 인덱스를 만들지 말 것</td>
      <td>변경될 때마다 인덱스를 재구성해야 해서 오히려 느려짐</td>
    </tr>
    <tr>
      <td>인덱스 생성 시 용량도 고려해야 함</td>
      <td>인덱스는 디스크 공간을 차지하고, 너무 많으면 관리 부담 증가</td>
    </tr>
    <tr>
      <td>SELECT는 빨라지지만, DML은 느려질 수 있음</td>
      <td>데이터 조회는 빠르지만, 데이터 수정/삽입/삭제에는 오버헤드 발생</td>
    </tr>
  </tbody>
</table>

인덱스를 기억하는 방법
---------------------------------------
<table border="1">
  <thead>
    <tr>
      <th>개념</th>
      <th>기억법</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>인덱스</td>
      <td>책의 목차처럼, 데이터를 바로 찾기 위한 지도</td>
    </tr>
    <tr>
      <td>B-Tree 인덱스</td>
      <td>"B"는 "Between" → 범위 검색 가능!</td>
    </tr>
    <tr>
      <td>Hash 인덱스</td>
      <td>정확한 값(`=`)만 빠르게 찾음 → 범위 안 됨</td>
    </tr>
    <tr>
      <td>인덱스의 단점</td>
      <td>조회는 빠르지만, 삽입·삭제·갱신에는 느려짐</td>
    </tr>
  </tbody>
</table>

