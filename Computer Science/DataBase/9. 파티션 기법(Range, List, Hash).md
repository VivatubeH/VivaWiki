파티션(Partition)
-----------------------------
- 하나의 큰 테이블을 논리적으로 여러 개의 작은 단위(파티션)으로 나누는 것을 파티션이라고 합니다.
- 즉, 내부적으로는 나눠져 있지만 사용자 입장에서는 한 테이블처럼 사용이 가능합니다.

파티션을 사용하는 이유
----------------------------------
- 성능 향상 : 조건 검색 시 필요한 파티션만 스캔해서 빠릅니다. (Partition Pruning)
- 관리 편의 : 오래된 데이터만 따로 백업/삭제/이관이 가능합니다.
- 병렬 처리 : 파티션 단위로 작업을 나눠서 동시에 수행 가능합니다.
- 대용량 데이터 처리 : 10억개의 행을 논리적으로 나눠 관리가 가능합니다.

파티션의 3가지 주요 방식 
-----------------------------------
- Range Partition(범위 기반) : 값의 범위에 따라 데이터를 나누는 것을 범위 기반이라고 합니다. ( 예: 날짜, 숫자 등... )

```sql
 PARTITION BY RANGE (sale_date)
(
  PARTITION p_jan VALUES LESS THAN (TO_DATE('2025-02-01', 'YYYY-MM-DD')),
  PARTITION p_feb VALUES LESS THAN (TO_DATE('2025-03-01', 'YYYY-MM-DD'))
)
```
- 실생활로 따지면 택배 구역에서 110번, 120번 구역처럼 구역을 범위로 나눈 것을 말합니다.
- 사용 시에는 날짜별 거래 데이터, 학생 점수 구간에 사용할 수 있습니다.

- List Partition(목록 기반) : 지정된 값 목록에 따라 데이터를 나누는 것(명확한 집합을 기준)을 목록 기반이라고 합니다.

```sql
PARTITION BY LIST (region_code)
(
  PARTITION p_seoul VALUES ('SEOUL'),
  PARTITION p_busan VALUES ('BUSAN')
)
```
- 실생활로 따지면 A반, B반, C반처럼 명확한 그룹이 정해져있을 때 나누는 것이 해당됩니다.
- 사용 시에는 지역 코드, 국가 구분, 카테고리 구분 등에 사용할 수 있습니다.

- Hash Partition(해시 기반) : 해시 함수의 결과값에 따라 자동으로 파티션에 배정되는 것을 해시 기반이라고 합니다. ( 균등 분포가 목적입니다. )

```sql
PARTITION BY HASH (user_id)
PARTITIONS 4;
```
- 실생활로 따지면 번호표를 무작위로 뽑아 1조, 2조, 3조, 4조로 자동으로 배정하는 방식이 해당됩니다.
- 사용 시에는 특정 기준이 없고, 고르게 분산이 필요한 경우에 사용합니다. ( 사용자 ID, 트랜잭션 ID )

파티션 사용 시 주의점
-----------------------------------------
- 파티션 키를 잘못 설정하면 오히려 성능이 악화될 수 있습니다.
- 너무 많은 파티션 수를 가지게 되면 그만큼 관리의 복잡도가 증가합니다.

파티션 정리
-----------------------------------------
<table>
  <tr>
    <th>이름</th>
    <th>기억법</th>
    <th>비유</th>
  </tr>
  <tr>
    <th>Range</th>
    <td>범위로 나눈다.</td>
    <td>날짜별 서랍</td>
  </tr>
  <tr>
    <th>List</th>
    <td>목록으로 나눈다.</td>
    <td>반 편성표</td>
  </tr>
  <tr>
    <th>Hash</th>
    <td>무작위로 균등 분배한다.</td>
    <td>제비뽑기 조 편성</td>
  </tr>
</table>
